# 🤖 이중 AI 전략 가이드

AI Finance Dashboard는 비용 효율적인 **이중 AI 전략**을 사용합니다.

---

## 💡 전략 개요

### 왜 이중 AI 전략인가?

1. **비용 최적화**: 간단한 작업에는 무료 API, 중요한 분석에는 고급 AI
2. **품질 유지**: 핵심 투자 결정에는 최고 수준의 AI 활용
3. **속도 개선**: 빠른 응답이 필요한 작업은 경량 모델 사용

---

## 🎯 AI 역할 분담

### Gemini 2.5 Flash (무료/저비용)
**용도: 기본 데이터 수집 및 요약**

✅ **담당 작업:**
- 시장 데이터 간단 요약
- 포트폴리오 빠른 체크
- 일상적인 질의응답
- 데이터 정리 및 포맷팅

📊 **특징:**
- 무료 티어 제공
- 빠른 응답 속도
- 기본 분석에 충분

💰 **비용:**
- 무료 (일일 제한 내)
- 무료 제한 초과 시: 매우 저렴

---

### GPT-5 (유료 프리미엄)
**용도: 핵심 투자 전략 및 분석 엔진**

✅ **담당 작업:**
- 📈 상세 시장 분석 리포트
- 🎯 포트폴리오 심층 진단
- 💼 투자 전략 수립
- 🔮 리스크 분석 및 예측
- 💬 전문가급 투자 상담

📊 **특징:**
- 전문가 수준의 분석
- 복잡한 금융 논리 이해
- 맥락 기반 심층 조언

💰 **비용:**
- 입력: $10 / 1M tokens
- 출력: $30 / 1M tokens
- 평균 리포트: $0.05-0.15

---

## 🔄 자동 라우팅 시스템

시스템이 작업 복잡도를 자동으로 판단하여 적절한 AI를 선택합니다.

```javascript
작업 요청
    ↓
복잡도 판단
    ↓
├─ BASIC → Gemini Flash (빠르고 저렴)
│   └─ 간단 요약, 빠른 체크
│
└─ ADVANCED → GPT-5 (심층 분석)
    └─ 리포트 생성, 전략 수립
```

---

## 📋 작업별 AI 선택 매트릭스

| 작업 | 사용 AI | 이유 |
|------|---------|------|
| 시장 데이터 요약 | Gemini Flash | 빠른 요약만 필요 |
| 상세 시장 리포트 | GPT-5 | 심층 분석 필요 |
| 포트폴리오 빠른 체크 | Gemini Flash | 간단한 건강도 진단 |
| 포트폴리오 심층 분석 | GPT-5 | 최적화 전략 수립 |
| 일반 질문 | Gemini Flash | 빠른 답변 |
| 투자 전략 상담 | GPT-5 | 전문가급 조언 |

---

## 💰 비용 예상

### 월 사용량 예시 (1인 기준)

#### Gemini Flash 사용 (무료 티어)
```
- 일일 요약: 30회/월
- 빠른 체크: 20회/월
- 간단 질문: 50회/월
---
총 비용: $0 (무료 한도 내)
```

#### GPT-5 사용 (유료)
```
- 상세 리포트: 10회/월 × $0.10 = $1.00
- 포트폴리오 분석: 4회/월 × $0.15 = $0.60
- 투자 상담: 20회/월 × $0.05 = $1.00
---
총 비용: $2.60/월
```

#### 이중 전략 총 비용
```
Gemini: $0
GPT-5: $2.60
---
월 총 비용: $2.60
```

#### 비교: GPT-5만 사용 시
```
모든 작업을 GPT-5로: $8-12/월
---
절감액: $5-10/월 (약 70% 절감)
```

---

## ⚙️ 설정 방법

### 1. 최적 설정 (권장)
**두 API 모두 설정 → 자동 최적화**

```env
# .env 파일
VITE_OPENAI_API_KEY=sk-your-key-here
VITE_GEMINI_API_KEY=your-gemini-key-here
VITE_AI_PROVIDER=openai
```

✅ 시스템이 자동으로 적절한 AI 선택
✅ 비용 최적화
✅ 최고 품질 유지

### 2. Gemini만 사용 (무료)
**비용 최소화, 기본 기능만**

```env
VITE_GEMINI_API_KEY=your-gemini-key-here
VITE_AI_PROVIDER=gemini
```

💡 모든 작업이 Gemini로 처리됩니다.

### 3. OpenAI만 사용 (프리미엄)
**최고 품질, 비용 상관없음**

```env
VITE_OPENAI_API_KEY=sk-your-key-here
VITE_AI_PROVIDER=openai
```

💡 모든 작업이 GPT-5로 처리됩니다.

---

## 🔍 모니터링

### 콘솔에서 확인
개발자 도구 콘솔에서 어떤 AI가 사용되는지 확인할 수 있습니다:

```
⚡ Using Gemini Flash for basic task
🧠 Using GPT-5 for advanced analysis
```

### AI 전략 배지
UI에서 현재 전략을 시각적으로 확인:
- **이중 AI 전략** (보라색): 최적 설정
- **Gemini Flash** (초록색): 무료 모드
- **GPT-5** (파란색): 프리미엄 모드
- **AI 미설정** (회색): API 키 필요

---

## 📊 실제 사용 예시

### Case 1: 일반 사용자
```
아침: 시장 요약 (Gemini) - $0
점심: 빠른 포트폴리오 체크 (Gemini) - $0
저녁: 투자 질문 (Gemini) - $0
주말: 상세 투자 리포트 (GPT-5) - $0.10
---
주간 비용: $0.10
```

### Case 2: 적극적 투자자
```
매일: 시장 요약 (Gemini) - $0
주 2회: 상세 리포트 (GPT-5) - $0.20
주 1회: 포트폴리오 분석 (GPT-5) - $0.15
일상 질문: 매일 (Gemini) - $0
---
주간 비용: $0.35
```

---

## 🎓 베스트 프랙티스

### 1. API 키 보안
```bash
# ❌ 절대 하지 마세요
git add .env

# ✅ 올바른 방법
# .gitignore에 .env 포함 확인
# Netlify 환경 변수로만 관리
```

### 2. 비용 관리
- 개발 중에는 Gemini 활용
- 중요한 결정은 GPT-5 사용
- API 사용량 대시보드 정기 확인

### 3. 품질 유지
- 핵심 투자 분석은 항상 GPT-5
- 일상 작업은 Gemini로 충분
- 결과가 만족스럽지 않으면 GPT-5 재시도

---

## 🔧 문제 해결

### Q: "No AI provider configured" 오류
**A:** `.env` 파일에 최소 하나의 API 키 설정 필요

### Q: Gemini만 있는데 GPT-5 기능을 쓰고 싶어요
**A:** OpenAI API 키를 추가하면 자동으로 이중 전략 활성화

### Q: 비용이 너무 많이 나와요
**A:**
1. OpenAI 대시보드에서 사용량 확인
2. 일상 작업은 Gemini 사용 확인
3. 필요시 GPT-5 호출 빈도 조절

### Q: Gemini가 충분히 좋은데 GPT-5가 필요한가요?
**A:**
- 간단한 요약: Gemini로 충분
- 중요한 투자 결정: GPT-5 권장
- 예산 제약 시: Gemini만으로도 가능

---

## 📚 참고 자료

### API 키 발급
- **OpenAI**: https://platform.openai.com/api-keys
- **Google Gemini**: https://makersuite.google.com/app/apikey

### 가격 정보
- **OpenAI Pricing**: https://openai.com/pricing
- **Gemini Pricing**: https://ai.google.dev/pricing

### 사용량 모니터링
- **OpenAI Dashboard**: https://platform.openai.com/usage
- **Google AI Studio**: https://makersuite.google.com/

---

## 💡 결론

**이중 AI 전략의 핵심:**
1. 💰 **비용 효율**: 70% 절감
2. 🎯 **품질 유지**: 중요한 분석은 최고급 AI
3. ⚡ **빠른 응답**: 일상 작업은 경량 AI

**권장 설정:**
- 두 API 모두 설정하여 자동 최적화
- 개발 단계에서 Gemini로 테스트
- 프로덕션에서 이중 전략 활성화

**이중 AI 전략으로 비용 걱정 없이 최고 품질의 AI 투자 분석을 경험하세요!** 🚀
